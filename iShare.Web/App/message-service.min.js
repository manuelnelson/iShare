TodoApp.factory("messageService",["$location",function(a){var b={messageOptions:{title:"",message:"",alertType:Application.properties.messageType.Warning},showMessage:function(a,c,d){b.messageOptions.alertType=typeof d=="undefined"?Application.properties.messageType.Warning:d,b.messageOptions.title=a,b.messageOptions.message=c,b.show=!0},isShowing:function(){return b.show},closeMessage:function(){b.show=!1},handleError:function(c){switch(c.status){case 400:return b.showMessage("Not so fast",c.data.ResponseStatus.Message,Application.properties.messageType.Error),!1;case 401:if(a.path()==="/Account/Login/")return b.showMessage("Invalid Credentials","Either the e-mail or password you entered is incorrect."),!1;return a.path("/Account/Unauthorized"),!1;case 403:return a.path("/Account/Unauthorized"),!1;default:return b.showMessage("Uh oh!","Sorry, we could not process your request.  The error has been logged and we will do our best to correct the error asap.",Application.properties.messageType.Error),!1}}};return b}])